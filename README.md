
# Лабораторная работа №4
**Палкин Даниил Дмитриевич**  
**Вариант 34: Квадрат, Прямоугольник, Трапеция**

## Требования к программе

### ✅ Реализованные требования:

- **Шаблоны классов** с параметром скалярного типа для координат
- **Concept `Arithmetic`** для проверки скалярного типа данных  
- **Шаблон `Point<T>`** для хранения координат фигур
- **Наследование от `Figure<T>`** для всех классов фигур
- **Хранение точек** в `std::unique_ptr<Point<T>>`
- **Запрет сырых указателей** - используются только умные указатели
- **Ввод фигур** из `std::cin`
- **Шаблон `Array<T>`** для динамического массива
- **Хранение фигур** в `std::shared_ptr<T[]>`
- **Операции копирования, сравнения** и приведение к `double`
- **Вывод информации**: геометрический центр, координаты вершин, площадь
- **Вычисление общей площади** фигур в массиве
- **Удаление фигур** по индексу
- **Перемещение элементов** при увеличении емкости массива
- **Примеры работы** с `Array<Figure*>` и `Array<Square>`

### Архитектура проекта

```
├── include/
│   ├── figure.h      # Базовый класс Figure и Point
│   ├── square.h      # Класс Square
│   ├── rectangle.h   # Класс Rectangle  
│   ├── trapezoid.h   # Класс Trapezoid
│   └── array.h       # Шаблонный динамический массив
├── main.cpp          # Демонстрационная программа
└── README.md
```

### Классы фигур

- **`Square<T>`** - Квадрат (фигура вращения)
- **`Rectangle<T>`** - Прямоугольник (вписан в круг)
- **`Trapezoid<T>`** - Трапеция (вписана в круг)

### Особенности реализации

1. **Полиморфные фигуры** через наследование от `Figure<T>`
2. **Безопасное управление памятью** с помощью умных указателей
3. **Шаблонный дизайн** для работы с различными числовыми типами
4. **Специализации принтера и счетчика площади** для работы с `shared_ptr`

## Сборка и запуск

### Сборка проекта:
```bash
mkdir build && cd build
cmake .. && make
```

### Запуск демонстрационной программы:
```bash
./main
```

### Тестирование:
Программа включает тестовые сценарии:
- Создание фигур через ввод с клавиатуры
- Работа с полиморфным массивом фигур
- Работа с типизированным массивом квадратов
- Вычисление общей площади
- Удаление элементов по индексу
- Сравнение фигур

## Пример использования

```cpp
// Создание фигур
Square<double> square;
Rectangle<double> rectangle; 
Trapezoid<double> trapezoid;

// Ввод данных
std::cin >> square >> rectangle >> trapezoid;

// Работа с массивом
Array<std::shared_ptr<Figure<double>>> figures;
figures.add(std::make_shared<Square<double>>(square));

// Вывод информации
figures.printArray();
std::cout << "Total area: " << figures.arrayArea() << std::endl;
```

## Демонстрация возможностей

1. **Ввод фигур** с клавиатуры
2. **Полиморфное хранение** в массиве
3. **Автоматическое расширение** массива с перемещением
4. **Вычисление геометрических характеристик**
5. **Сравнение фигур** на равенство
6. **Управление памятью** без утечек

